import{r as d,u as h,a as x,s as f,b as y,j as r,L as F,B as _,d as j,e as N}from"./index-139c9963.js";import{c as b,a as o,A as P,u as L,T as i,b as k,o as v,n as S}from"./index.esm-3ef23c39.js";const A="_registrationFormContainer_1jwky_1",E="_registrationForm_1jwky_1",T="_registrationForm__loginLink_1jwky_13",m={registrationFormContainer:A,registrationForm:E,registrationForm__loginLink:T},C=b({firstName:o().required(),lastName:o().required(),email:o().required().email(),password:o().required().min(P.minPasswordLength),retypePassword:o().required().test("retype-password","Passwords do not match.",function(){const{password:s,retypePassword:n}=this.parent;return s===n})}),p=()=>{const s=h(),{isLoading:n,error:l}=x(f),g={firstName:"",lastName:"",email:"",password:"",retypePassword:""},{register:t,handleSubmit:c,formState:{errors:e}}=L({defaultValues:g,resolver:v(C)}),u=w=>{s(N(w))};d.useEffect(()=>()=>{s(y())},[s]);const a=S();return r.jsx("div",{className:m.registrationFormContainer,children:r.jsxs("form",{onSubmit:c(u),className:m.registrationForm,children:[r.jsx(i,{label:"First name",error:e.firstName!==void 0,helperText:e.firstName?.message,...t(a("firstName"))}),r.jsx(i,{label:"Last name",error:e.lastName!==void 0,helperText:e.lastName?.message,...t(a("lastName"))}),r.jsx(i,{label:"Email",error:e.email!==void 0,helperText:e.email?.message,...t(a("email"))}),r.jsx(i,{type:"password",label:"Password",error:e.password!==void 0,helperText:e.password?.message,...t(a("password"))}),r.jsx(i,{type:"password",label:"Re-type password",error:e.retypePassword!==void 0,helperText:e.retypePassword?.message,...t(a("retypePassword"))}),r.jsx(F,{isLoading:n}),l!==null&&r.jsx(k,{severity:"error",children:l.message}),r.jsx(_,{type:"submit",children:"Sign out"}),r.jsx(j,{to:"/auth/login",className:m.registrationForm__loginLink,children:"Sign in"})]})})};p.displayName="camp-registration";const B=d.memo(p);export{B as RegistrationPage};
