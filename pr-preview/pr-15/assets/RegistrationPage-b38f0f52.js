import{r as d,u,a as _,s as h,b as f,j as r,d as x,L as F,B as w,e as j,g as N}from"./index-44dfbe39.js";import{c as y,a as o,A as b,u as P,T as a,b as C,o as L,n as v}from"./index.esm-6a9c0f28.js";const S="_registrationFormContainer_10huj_1",A="_registrationFormContainer__form_10huj_6",E="_registrationForm_10huj_1",T="_registrationForm__loginLink_10huj_16",n={registrationFormContainer:S,registrationFormContainer__form:A,registrationForm:E,registrationForm__loginLink:T},R={firstName:"",lastName:"",email:"",password:"",retypePassword:""},k=y({firstName:o().required(),lastName:o().required(),email:o().required().email(),password:o().required().min(b.minPasswordLength),retypePassword:o().required().test("retype-password","Passwords do not match.",function(){const{password:i,retypePassword:m}=this.parent;return i===m})}),q=()=>{const i=u(),{isLoading:m,error:l}=_(h),{register:s,handleSubmit:g,formState:{errors:e}}=P({defaultValues:R,resolver:L(k)}),p=c=>{i(N(c))};d.useEffect(()=>()=>{i(f())},[]);const t=v();return r.jsx("div",{className:n.registrationFormContainer,children:r.jsxs("form",{onSubmit:g(p),className:x(n.registrationForm,n.registrationFormContainer__form),children:[r.jsx(a,{label:"First name",error:e.firstName!==void 0,helperText:e.firstName?.message,...s(t("firstName"))}),r.jsx(a,{label:"Last name",error:e.lastName!==void 0,helperText:e.lastName?.message,...s(t("lastName"))}),r.jsx(a,{label:"Email",error:e.email!==void 0,helperText:e.email?.message,...s(t("email"))}),r.jsx(a,{type:"password",label:"Password",error:e.password!==void 0,helperText:e.password?.message,...s(t("password"))}),r.jsx(a,{type:"password",label:"Re-type password",error:e.retypePassword!==void 0,helperText:e.retypePassword?.message,...s(t("retypePassword"))}),r.jsx(F,{isLoading:m}),l!==null&&r.jsx(C,{severity:"error",children:l.message}),r.jsx(w,{type:"submit",children:"Sign out"}),r.jsx(j,{to:"/auth/login",className:n.registrationForm__loginLink,children:"Sign in"})]})})},B=d.memo(q);B.displayName="camp-registration";export{B as RegistrationPage};
