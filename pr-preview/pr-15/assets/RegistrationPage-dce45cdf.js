import{r as d,u as _,a as h,s as f,b as x,j as r,d as F,L as w,B as j,e as N,g as y}from"./index-2cecd62c.js";import{c as b,a as o,A as P,u as C,T as a,b as L,o as v,n as S}from"./index.esm-c5944525.js";const A="_registrationFormContainer_10huj_1",E="_registrationFormContainer__form_10huj_6",T="_registrationForm_10huj_1",R="_registrationForm__loginLink_10huj_16",n={registrationFormContainer:A,registrationFormContainer__form:E,registrationForm:T,registrationForm__loginLink:R},k={firstName:"",lastName:"",email:"",password:"",retypePassword:""},q=b({firstName:o().required(),lastName:o().required(),email:o().required().email(),password:o().required().min(P.minPasswordLength),retypePassword:o().required().test("retype-password","Passwords do not match.",function(){const{password:i,retypePassword:m}=this.parent;return i===m})}),g=()=>{const i=_(),{isLoading:m,error:l}=h(f),{register:s,handleSubmit:p,formState:{errors:e}}=C({defaultValues:k,resolver:v(q)}),c=u=>{i(y(u))};d.useEffect(()=>()=>{i(x())},[]);const t=S();return r.jsx("div",{className:n.registrationFormContainer,children:r.jsxs("form",{onSubmit:p(c),className:F(n.registrationForm,n.registrationFormContainer__form),children:[r.jsx(a,{label:"First name",error:e.firstName!==void 0,helperText:e.firstName?.message,...s(t("firstName"))}),r.jsx(a,{label:"Last name",error:e.lastName!==void 0,helperText:e.lastName?.message,...s(t("lastName"))}),r.jsx(a,{label:"Email",error:e.email!==void 0,helperText:e.email?.message,...s(t("email"))}),r.jsx(a,{type:"password",label:"Password",error:e.password!==void 0,helperText:e.password?.message,...s(t("password"))}),r.jsx(a,{type:"password",label:"Re-type password",error:e.retypePassword!==void 0,helperText:e.retypePassword?.message,...s(t("retypePassword"))}),r.jsx(w,{isLoading:m}),l!==null&&r.jsx(L,{severity:"error",children:l.message}),r.jsx(j,{type:"submit",children:"Sign out"}),r.jsx(N,{to:"/auth/login",className:n.registrationForm__loginLink,children:"Sign in"})]})})};g.displayName="camp-registration";const D=d.memo(g);export{D as RegistrationPage};
