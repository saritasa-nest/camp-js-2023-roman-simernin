import{r as l,u,a as p,s as F,b as h,j as o,d as x,L as f,B as j,e as w,l as L}from"./index-44dfbe39.js";import{c as C,a as t,A as b,u as S,T as m,b as A,o as E,n as k}from"./index.esm-6a9c0f28.js";const v="_loginFormContainer_1jswo_1",y="_loginFormContainer__form_1jswo_6",N="_loginForm_1jswo_1",P="_loginForm__registrationLink_1jswo_16",s={loginFormContainer:v,loginFormContainer__form:y,loginForm:N,loginForm__registrationLink:P},T={email:"",password:""},q=C({email:t().required().email(),password:t().required().min(b.minPasswordLength)}),B=()=>{const e=u(),{isLoading:g,error:n}=p(F),{register:i,handleSubmit:c,formState:{errors:r}}=S({defaultValues:T,resolver:E(q)}),_=d=>{e(L(d))};l.useEffect(()=>()=>{e(h())},[]);const a=k();return o.jsx("div",{className:s.loginFormContainer,children:o.jsxs("form",{onSubmit:c(_),className:x(s.loginForm,s.loginFormContainer__form),children:[o.jsx(m,{label:"Email",error:r.email!==void 0,helperText:r.email?.message,...i(a("email"))}),o.jsx(m,{type:"password",label:"Password",error:r.password!==void 0,helperText:r.password?.message,...i(a("password"))}),o.jsx(f,{isLoading:g}),n!==null&&o.jsx(A,{severity:"error",children:n.message}),o.jsx(j,{type:"submit",children:"Sign in"}),o.jsx(w,{to:"/auth/registration",className:s.loginForm__registrationLink,children:"Sign out"})]})})},$=l.memo(B);$.displayName="camp-login";export{$ as LoginPage};
